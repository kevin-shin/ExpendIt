<%include partials/header %>

<script>
    $(document).ready(function () {
        $("#filterButton").on("click", function () {
            
        })

        let data = [
            {
                x: ['2013-10-04 22:23:00', '2013-11-04 22:23:00', '2013-12-04 22:23:00'],
                y: [1, 3, 6],
                type: 'scatter',
                mode: 'markers'
            }
        ];
        let layout = {
            autosize: true,
            height: 350,
            margin: {
                l: 20,
                r: 20,
                b: 30,
                t: 20,
                pad: 0
            }
        };

        Plotly.newPlot('scatterPlot', data, layout);
    });
</script>


<div class="container-fluid">
    <div class="row" id="report-container">
        <div class="col-sm-6" id="itemContainer">
            <p style="padding-left: 15px;">Items</p>
            <div id="itemBar">
                <ul class="list-unstyled components" style="margin-top: 15px;">
                    <% currentUser.itemCollection.forEach(function(item){ %>
                    <% console.log(item) %>
                    <li class="item">
                        <p> <%= item.name %></p>
                        <h4 class="pull-right"> $<%= item.price %></h4>
                        <p> <%= item.category %> </p>
                        <p> <%= item.description %> </p>
                    </li>
                    <% }) %>
            </div>
        </div>
        <div class="col-sm-6">
            <div id="stats">
                <button id="filterButton" class="pull-right btn btn-outline-danger">Filter By</button>
                <p> Standard Deviation: $<%= stdDev %></p>
                <p> Average: $<%= average %> </p>
                <p> Maximum: $<%= max %> </p>
                <p> Item Count: <%= count %></p>
            </div>
            <div id="scatterPlot"></div>
        </div>
    </div>
</div>
</div>

<%include partials/footer %>